{
  "test_run_metadata": {
    "date": "2024",
    "command": "pytest tests/ -v --tb=short",
    "python_version": "3.14.0",
    "pytest_version": "9.0.1"
  },
  "summary": {
    "total_tests_collected": 1024,
    "collection_errors": 13,
    "tests_failed": 132,
    "tests_passed": 357,
    "tests_skipped": 11,
    "tests_not_run": 524,
    "success_rate_runnable": 0.730,
    "overall_health_score": 0.349
  },
  "categories": {
    "import_errors": {
      "priority": "P0",
      "count": 13,
      "estimated_effort_hours": 4,
      "impact": "Blocks 13 test modules from running"
    },
    "code_generation_output_layer": {
      "priority": "P1",
      "count": 43,
      "estimated_effort_hours": 3,
      "impact": "Largest single failure pattern"
    },
    "parser_edge_cases": {
      "priority": "P2",
      "count": 11,
      "estimated_effort_hours": 4,
      "impact": "Missing features in parser"
    },
    "shape_propagation_errors": {
      "priority": "P2",
      "count": 19,
      "estimated_effort_hours": 2,
      "impact": "Error handling needs pytest.raises"
    },
    "cli_tests": {
      "priority": "P2",
      "count": 13,
      "estimated_effort_hours": 1,
      "impact": "Module structure mismatch"
    },
    "file_operations": {
      "priority": "P3",
      "count": 2,
      "estimated_effort_hours": 0.25,
      "impact": "Directory creation before write"
    },
    "layer_generation": {
      "priority": "P3",
      "count": 7,
      "estimated_effort_hours": 4,
      "impact": "Layers not appearing in code"
    }
  },
  "blocked_modules": [
    {
      "module": "tests/hpo/test_hpo_integration.py",
      "error": "ModuleNotFoundError: No module named 'keras'",
      "fix": "Change 'import keras' to 'from tensorflow import keras' in neural/hpo/hpo.py"
    },
    {
      "module": "tests/integration_tests/test_complete_workflow_integration.py",
      "error": "ModuleNotFoundError: No module named 'keras'",
      "fix": "Change 'import keras' to 'from tensorflow import keras' in neural/hpo/hpo.py"
    },
    {
      "module": "tests/integration_tests/test_edge_cases_workflow.py",
      "error": "ModuleNotFoundError: No module named 'keras'",
      "fix": "Change 'import keras' to 'from tensorflow import keras' in neural/hpo/hpo.py"
    },
    {
      "module": "tests/integration_tests/test_end_to_end_scenarios.py",
      "error": "ModuleNotFoundError: No module named 'keras'",
      "fix": "Change 'import keras' to 'from tensorflow import keras' in neural/hpo/hpo.py"
    },
    {
      "module": "tests/integration_tests/test_hpo_tracking_workflow.py",
      "error": "ModuleNotFoundError: No module named 'keras'",
      "fix": "Change 'import keras' to 'from tensorflow import keras' in neural/hpo/hpo.py"
    },
    {
      "module": "tests/visualization/test_dynamic_visualizer.py",
      "error": "ModuleNotFoundError: No module named 'parser.parser'",
      "fix": "Change 'from parser.parser' to 'from neural.parser.parser' in neural/visualization/dynamic_visualizer/api.py"
    },
    {
      "module": "tests/test_automl_coverage.py",
      "error": "ImportError: cannot import name 'RandomSearch' from 'neural.automl.search_strategies'",
      "fix": "Implement RandomSearch, BayesianSearch, EvolutionarySearch classes"
    },
    {
      "module": "tests/test_cost.py",
      "error": "ImportError: cannot import name 'ResourceMetrics' from 'neural.cost'",
      "fix": "Implement or export ResourceMetrics class"
    },
    {
      "module": "tests/test_data_coverage.py",
      "error": "ImportError: cannot import name 'QualityValidator' from 'neural.data.quality_validator'",
      "fix": "Implement QualityValidator class"
    },
    {
      "module": "tests/test_federated_coverage.py",
      "error": "ImportError: cannot import name 'FederatedAveraging' from 'neural.federated.aggregation'",
      "fix": "Implement FederatedAveraging and SecureAggregation classes"
    },
    {
      "module": "tests/test_mlops_coverage.py",
      "error": "ImportError: cannot import name 'ModelDeployment' from 'neural.mlops.deployment'",
      "fix": "Implement ModelDeployment class"
    },
    {
      "module": "tests/test_monitoring_coverage.py",
      "error": "ImportError: cannot import name 'DataQualityChecker' from 'neural.monitoring.data_quality'",
      "fix": "Implement DataQualityChecker class"
    },
    {
      "module": "tests/tracking/test_experiment_tracker.py",
      "error": "ImportError: cannot import name 'ArtifactVersion' from 'neural.tracking'",
      "fix": "Implement or export ArtifactVersion class"
    }
  ],
  "module_health": {
    "parser": {
      "total_tests": 200,
      "passed": 189,
      "failed": 11,
      "success_rate": 0.945,
      "health": "good",
      "issues": "Minor edge cases"
    },
    "code_generator": {
      "total_tests": 104,
      "passed": 59,
      "failed": 45,
      "success_rate": 0.567,
      "health": "fair",
      "issues": "Output layer policy"
    },
    "shape_propagation": {
      "total_tests": 80,
      "passed": 61,
      "failed": 19,
      "success_rate": 0.763,
      "health": "good",
      "issues": "Error handling"
    },
    "cli": {
      "total_tests": 15,
      "passed": 2,
      "failed": 13,
      "success_rate": 0.133,
      "health": "poor",
      "issues": "Structure mismatch"
    },
    "dashboard": {
      "total_tests": 20,
      "passed": 20,
      "failed": 0,
      "success_rate": 1.0,
      "health": "excellent",
      "issues": "None"
    },
    "hpo": {
      "total_tests": 30,
      "passed": 30,
      "failed": 0,
      "success_rate": 1.0,
      "health": "excellent",
      "issues": "None (when unblocked)"
    },
    "benchmarks": {
      "total_tests": 30,
      "passed": 30,
      "failed": 0,
      "success_rate": 1.0,
      "health": "excellent",
      "issues": "None"
    },
    "performance": {
      "total_tests": 15,
      "passed": 15,
      "failed": 0,
      "success_rate": 1.0,
      "health": "excellent",
      "issues": "None"
    }
  },
  "action_plan": {
    "phase_1": {
      "name": "Unblock Tests",
      "priority": "P0",
      "estimated_hours": 2,
      "expected_impact": "Unblock 13 modules, +200 tests",
      "tasks": [
        "Fix keras import in neural/hpo/hpo.py",
        "Fix parser import in neural/visualization/dynamic_visualizer/api.py",
        "Stub or implement missing classes"
      ]
    },
    "phase_2": {
      "name": "Quick Wins",
      "priority": "P1-P2",
      "estimated_hours": 3,
      "expected_impact": "+30 tests passing",
      "tasks": [
        "Add directory creation before file writes",
        "Fix parser empty sublayers/split params",
        "Add custom layer warning",
        "Fix ONNX shape field",
        "Add pytest.raises to error handling tests",
        "Add parser field extraction"
      ]
    },
    "phase_3": {
      "name": "Test Fixture Updates",
      "priority": "P1",
      "estimated_hours": 3,
      "expected_impact": "+43 tests passing",
      "tasks": [
        "Update code generation tests to use auto_flatten_output=True",
        "Or add Flatten layers before Output",
        "Document policy in test README"
      ]
    },
    "phase_4": {
      "name": "Investigation",
      "priority": "P2-P3",
      "estimated_hours": 5,
      "expected_impact": "+20 tests passing",
      "tasks": [
        "Investigate CLI module structure",
        "Debug layer generation issues",
        "Review parser HPO edge cases",
        "Fix activation anomaly detection"
      ]
    }
  },
  "quick_fixes": [
    {
      "id": 1,
      "file": "neural/hpo/hpo.py",
      "line": 6,
      "current": "import keras",
      "fix": "from tensorflow import keras",
      "impact": "Unblocks 5 test modules"
    },
    {
      "id": 2,
      "file": "neural/visualization/dynamic_visualizer/api.py",
      "line": 4,
      "current": "from parser.parser import create_parser, ModelTransformer",
      "fix": "from neural.parser.parser import create_parser, ModelTransformer",
      "impact": "Unblocks 1 test module"
    },
    {
      "id": 3,
      "description": "Add directory creation before file writes",
      "code": "os.makedirs(os.path.dirname(filepath), exist_ok=True)",
      "impact": "Fixes 2 file operation tests"
    },
    {
      "id": 4,
      "file": "neural/parser/parser.py",
      "description": "Return [] for empty sublayers instead of None",
      "fix": "sublayers = self.extract_sublayers(layer_node) or []",
      "impact": "Fixes 1 parser test"
    },
    {
      "id": 5,
      "description": "Update test fixtures to include auto_flatten_output=True",
      "pattern": "model_data = {..., 'auto_flatten_output': True}",
      "impact": "Fixes 43 code generation tests"
    }
  ],
  "test_patterns": {
    "import_dependency_errors": {
      "count": 13,
      "pattern": "ModuleNotFoundError or ImportError",
      "priority": "P0",
      "solution": "Fix imports or implement classes"
    },
    "code_gen_output_layer": {
      "count": 43,
      "pattern": "CodeGenException: Output layer expects 2D input",
      "priority": "P1",
      "solution": "Enable auto_flatten_output in tests"
    },
    "key_error_missing_fields": {
      "count": 8,
      "pattern": "KeyError: 'device', 'optimizer', 'loss', etc.",
      "priority": "P2",
      "solution": "Parser enhancements"
    },
    "shape_parameter_exceptions": {
      "count": 19,
      "pattern": "ShapeMismatchError, InvalidParameterError",
      "priority": "P2",
      "solution": "Wrap with pytest.raises()"
    },
    "cli_attribute_error": {
      "count": 13,
      "pattern": "AttributeError: module has no attribute 'name'",
      "priority": "P2",
      "solution": "Investigate CLI structure"
    },
    "layers_not_generated": {
      "count": 7,
      "pattern": "assert 'LayerType' in generated_code",
      "priority": "P3",
      "solution": "Debug layer generation"
    }
  },
  "estimated_total_effort_hours": 13,
  "target_success_rate": 0.938,
  "target_passing_tests": 750
}
